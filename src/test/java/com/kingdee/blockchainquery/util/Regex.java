package com.kingdee.blockchainquery.util;

import org.junit.Test;

import java.util.regex.Matcher;
import java.util.regex.Pattern;


/**
 * Created by Administrator on 2018/3/19.
 */
public class Regex {

    @Test
    public void regex(){

//        String data="[{\"blockNumber\":3296,\"channelId\":\"mychannel\",\"currentHash\":\"8C70240E8EFCE74D0287B6BCDEEB561E2E1335516F3D04E3D2C64CBA191D50B5\",\"dataHash\":\"32C13EEA3D5A7D4054D84B8559E2ADBE66B42313240E6DCDB16ED94530AD13AF\",\"envelopeCount\":1,\"previousHash\":\"DC4C22E893E1AB285806DD15A192DDDB080F1C87633F8667468C0A003A360422\",\"timeStampS\":1521070932824,\"epoch\":0,\"transactionId\":\"37707b8604e67dd5a406d0b33743d60a8be27935fc37a6a722100c2c32cf32c1\",\"transactionInfos\":[{\"namespace\":\"document\",\"reads\":[{\"key\":\"44f4ddb5c6ac56393fdd46311a19284e88617126\",\"version\":{\"blockNum\":3295,\"txNum\":0}},{\"key\":\"9fe96547942bb75e8b6a4b40e127e7bb0064e2a6\",\"version\":{\"blockNum\":0,\"txNum\":0}}],\"writes\":[{\"delete\":false,\"key\":\"44f4ddb5c6ac56393fdd46311a19284e88617126\",\"value\":{\"color\":\"\",\"docType\":\"FILE\",\"id\":\"\",\"owner\":\"KChain\",\"size\":0}},{\"delete\":false,\"key\":\"9fe96547942bb75e8b6a4b40e127e7bb0064e2a6\",\"value\":{\"color\":\"\",\"docType\":\"FILE\",\"id\":\"\",\"owner\":\"KChain\",\"size\":0}}]}],\"type\":\"TRANSACTION_ENVELOPE\"}, {\"blockNumber\":3295,\"channelId\":\"mychannel\",\"currentHash\":\"DC4C22E893E1AB285806DD15A192DDDB080F1C87633F8667468C0A003A360422\",\"dataHash\":\"D7F06CA0EA5F59CCD9CB07245FB2BE7936E34317D5A1F6DDA3E67A747EC29694\",\"envelopeCount\":1,\"previousHash\":\"E4CE3716A346AFE3CE6A85275EDBBE17E1F518434B78F11B7F8006F14832056A\",\"timeStampS\":1521070919750,\"epoch\":0,\"transactionId\":\"de8711341b3b6a0cb99d6281aa61bf18a6d2fe741437d78147c75205a536ee5a\",\"transactionInfos\":[{\"namespace\":\"document\",\"reads\":[{\"key\":\"44f4ddb5c6ac56393fdd46311a19284e88617126\",\"version\":{\"blockNum\":0,\"txNum\":0}}],\"writes\":[{\"delete\":false,\"key\":\"44f4ddb5c6ac56393fdd46311a19284e88617126\",\"value\":{\"color\":\"\",\"docType\":\"FILE\",\"id\":\"\",\"owner\":\"KChain\",\"size\":0}}]}],\"type\":\"TRANSACTION_ENVELOPE\"}, {\"blockNumber\":3294,\"channelId\":\"mychannel\",\"currentHash\":\"E4CE3716A346AFE3CE6A85275EDBBE17E1F518434B78F11B7F8006F14832056A\",\"dataHash\":\"48DB3D1BF11C9E1904B653FEB6C9EB98182BBE34C8396FDCBBC6181FBA1985F9\",\"envelopeCount\":1,\"previousHash\":\"7B585856F4421AFDFC91B66FF42450271437D11AF18C6FB65478E0ECCD1083D6\",\"timeStampS\":1521066728805,\"epoch\":0,\"transactionId\":\"0299cec68002ba3e5ffbd015938b1a0d3516328bc1688a52c61d42bc09e663e8\",\"transactionInfos\":[{\"namespace\":\"document\",\"reads\":[{\"key\":\"760334ce16cbdfc508a9daed3188103dcf40f2dd\",\"version\":{\"blockNum\":3293,\"txNum\":0}},{\"key\":\"deecd1f767b2410619b99eeb300746ce1312792c\",\"version\":{\"blockNum\":0,\"txNum\":0}}],\"writes\":[{\"delete\":false,\"key\":\"760334ce16cbdfc508a9daed3188103dcf40f2dd\",\"value\":{\"color\":\"\",\"docType\":\"FILE\",\"id\":\"\",\"owner\":\"KChain\",\"size\":0}},{\"delete\":false,\"key\":\"deecd1f767b2410619b99eeb300746ce1312792c\",\"value\":{\"color\":\"\",\"docType\":\"FILE\",\"id\":\"\",\"owner\":\"KChain\",\"size\":0}}]}],\"type\":\"TRANSACTION_ENVELOPE\"}, {\"blockNumber\":3293,\"channelId\":\"mychannel\",\"currentHash\":\"7B585856F4421AFDFC91B66FF42450271437D11AF18C6FB65478E0ECCD1083D6\",\"dataHash\":\"6F536C42C0297DE5F2AB20C175903CBC93C27B39C88DBC066DCF5E596B759E0B\",\"envelopeCount\":1,\"previousHash\":\"FBEB37A3946C4B4A83CA56765F9B5E5CB158B4D559D7F573C5618C4D9EC5BF8D\",\"timeStampS\":1521066305429,\"epoch\":0,\"transactionId\":\"b32cfc84f11f952500327f8430beaa14a01790d24aba69224e9fbc3ac6398958\",\"transactionInfos\":[{\"namespace\":\"document\",\"reads\":[{\"key\":\"760334ce16cbdfc508a9daed3188103dcf40f2dd\",\"version\":{\"blockNum\":0,\"txNum\":0}}],\"writes\":[{\"delete\":false,\"key\":\"760334ce16cbdfc508a9daed3188103dcf40f2dd\",\"value\":{\"color\":\"\",\"docType\":\"FILE\",\"id\":\"\",\"owner\":\"KChain\",\"size\":0}}]}],\"type\":\"TRANSACTION_ENVELOPE\"}, {\"blockNumber\":3292,\"channelId\":\"mychannel\",\"currentHash\":\"FBEB37A3946C4B4A83CA56765F9B5E5CB158B4D559D7F573C5618C4D9EC5BF8D\",\"dataHash\":\"74F43AFF9D72A49F152BBCC7FA9336C91224391BCFA0350704EF71FFE0C87F3D\",\"envelopeCount\":1,\"previousHash\":\"FD199BD1C2163B0CAB02D40064869CA15D3A2C00F3B9930DD4B7793FAC2CEA2C\",\"timeStampS\":1521064162312,\"epoch\":0,\"transactionId\":\"bd53d2c867339ab5c65eb24b83dff51fdab4b090a3e0e55913b2b07f077ca441\",\"transactionInfos\":[{\"namespace\":\"document\",\"reads\":[{\"key\":\"hvjdfhjghhdgiurtgryoihtiu695897657\",\"version\":{\"blockNum\":0,\"txNum\":0}}],\"writes\":[{\"delete\":false,\"key\":\"hvjdfhjghhdgiurtgryoihtiu695897657\",\"value\":{\"color\":\"\",\"docType\":\"FILE\",\"id\":\"\",\"owner\":\"研究院\",\"size\":0}}]}],\"type\":\"TRANSACTION_ENVELOPE\"}, {\"blockNumber\":3291,\"channelId\":\"mychannel\",\"currentHash\":\"FD199BD1C2163B0CAB02D40064869CA15D3A2C00F3B9930DD4B7793FAC2CEA2C\",\"dataHash\":\"C6C3D03B63A17E5310302ED9CAFA7928670F16EBBCD3768DDB51D68F077AA571\",\"envelopeCount\":10,\"previousHash\":\"7A4D15FBA4DB77DBA3C0E4337FA07CA43ACED3E1A3A7E6469944F2E05F6AEF4F\",\"timeStampS\":1521051613231,\"epoch\":0,\"transactionId\":\"d661aec805cd83e8143588524ab298a0cf6617f6de67e2a7fb0e64fef985dd10\",\"transactionInfos\":[{\"namespace\":\"document\",\"reads\":[{\"key\":\"e213aeb01c8a1bc42d8dadeb12804587d330b0567ec7eff59846b6bc2b98681c\",\"version\":{\"blockNum\":0,\"txNum\":0}}],\"writes\":[{\"delete\":false,\"key\":\"e213aeb01c8a1bc42d8dadeb12804587d330b0567ec7eff59846b6bc2b98681c\",\"value\":{\"color\":\"\",\"docType\":\"FILE\",\"id\":\"\",\"owner\":\"KChain\",\"size\":0}}]}],\"type\":\"TRANSACTION_ENVELOPE\"}, {\"blockNumber\":3291,\"channelId\":\"mychannel\",\"currentHash\":\"FD199BD1C2163B0CAB02D40064869CA15D3A2C00F3B9930DD4B7793FAC2CEA2C\",\"dataHash\":\"C6C3D03B63A17E5310302ED9CAFA7928670F16EBBCD3768DDB51D68F077AA571\",\"envelopeCount\":10,\"previousHash\":\"7A4D15FBA4DB77DBA3C0E4337FA07CA43ACED3E1A3A7E6469944F2E05F6AEF4F\",\"timeStampS\":1521051613231,\"epoch\":0,\"transactionId\":\"1e6fba4f5779264931befbe4cd25b9373801352c8d43ac0f1996d21eb3f9f0cc\",\"transactionInfos\":[{\"namespace\":\"document\",\"reads\":[{\"key\":\"8a09adf1a49c393898a0e691818faeded4846a33237f9bdf3eb2eb79f8ef4529\",\"version\":{\"blockNum\":0,\"txNum\":0}}],\"writes\":[{\"delete\":false,\"key\":\"8a09adf1a49c393898a0e691818faeded4846a33237f9bdf3eb2eb79f8ef4529\",\"value\":{\"color\":\"\",\"docType\":\"FILE\",\"id\":\"\",\"owner\":\"KChain\",\"size\":0}}]}],\"type\":\"TRANSACTION_ENVELOPE\"}, {\"blockNumber\":3291,\"channelId\":\"mychannel\",\"currentHash\":\"FD199BD1C2163B0CAB02D40064869CA15D3A2C00F3B9930DD4B7793FAC2CEA2C\",\"dataHash\":\"C6C3D03B63A17E5310302ED9CAFA7928670F16EBBCD3768DDB51D68F077AA571\",\"envelopeCount\":10,\"previousHash\":\"7A4D15FBA4DB77DBA3C0E4337FA07CA43ACED3E1A3A7E6469944F2E05F6AEF4F\",\"timeStampS\":1521051613229,\"epoch\":0,\"transactionId\":\"9bc5ffc3c46a331afa16d31cc1c3d91a38f8725c9eb9e80b8b1db907d05b2cc3\",\"transactionInfos\":[{\"namespace\":\"document\",\"reads\":[{\"key\":\"3f5c25802179c91b1c2806f290a13786504de0db93490285f09fc9fe57c5dcba\",\"version\":{\"blockNum\":0,\"txNum\":0}}],\"writes\":[{\"delete\":false,\"key\":\"3f5c25802179c91b1c2806f290a13786504de0db93490285f09fc9fe57c5dcba\",\"value\":{\"color\":\"\",\"docType\":\"FILE\",\"id\":\"\",\"owner\":\"KChain\",\"size\":0}}]}],\"type\":\"TRANSACTION_ENVELOPE\"}, {\"blockNumber\":3291,\"channelId\":\"mychannel\",\"currentHash\":\"FD199BD1C2163B0CAB02D40064869CA15D3A2C00F3B9930DD4B7793FAC2CEA2C\",\"dataHash\":\"C6C3D03B63A17E5310302ED9CAFA7928670F16EBBCD3768DDB51D68F077AA571\",\"envelopeCount\":10,\"previousHash\":\"7A4D15FBA4DB77DBA3C0E4337FA07CA43ACED3E1A3A7E6469944F2E05F6AEF4F\",\"timeStampS\":1521051613247,\"epoch\":0,\"transactionId\":\"002de656769da801d42f39794a9296a75772f1d800212c3337f36e5c497bb060\",\"transactionInfos\":[{\"namespace\":\"document\",\"reads\":[{\"key\":\"8d67a0434e15db41e90e468ab5483ef2874f9e974a79441f9af326b225cde3e5\",\"version\":{\"blockNum\":0,\"txNum\":0}}],\"writes\":[{\"delete\":false,\"key\":\"8d67a0434e15db41e90e468ab5483ef2874f9e974a79441f9af326b225cde3e5\",\"value\":{\"color\":\"\",\"docType\":\"FILE\",\"id\":\"\",\"owner\":\"KChain\",\"size\":0}}]}],\"type\":\"TRANSACTION_ENVELOPE\"}, {\"blockNumber\":3291,\"channelId\":\"mychannel\",\"currentHash\":\"FD199BD1C2163B0CAB02D40064869CA15D3A2C00F3B9930DD4B7793FAC2CEA2C\",\"dataHash\":\"C6C3D03B63A17E5310302ED9CAFA7928670F16EBBCD3768DDB51D68F077AA571\",\"envelopeCount\":10,\"previousHash\":\"7A4D15FBA4DB77DBA3C0E4337FA07CA43ACED3E1A3A7E6469944F2E05F6AEF4F\",\"timeStampS\":1521051613260,\"epoch\":0,\"transactionId\":\"342d4ce02b8b85ab9cef9a2c2fabccb2aad9bcc3a4770ee4c4741f79a19debc3\",\"transactionInfos\":[{\"namespace\":\"document\",\"reads\":[{\"key\":\"a076490e92d302d78e75dcfbd30359fc4051da6966895cdfdc6ce18d9d684fe3\",\"version\":{\"blockNum\":0,\"txNum\":0}}],\"writes\":[{\"delete\":false,\"key\":\"a076490e92d302d78e75dcfbd30359fc4051da6966895cdfdc6ce18d9d684fe3\",\"value\":{\"color\":\"\",\"docType\":\"FILE\",\"id\":\"\",\"owner\":\"KChain\",\"size\":0}}]}],\"type\":\"TRANSACTION_ENVELOPE\"}]";
        String data="{\"key\":\"44f4ddb5c6ac56393fdd46311a19284e88617126\",\"version\":{\"blockNum\":3295,\"txNum\":0}}";

        Pattern pattern =Pattern.compile("^\\{\"key.+?version.+?blockNum\":0.+?txNum\":0}}$");


        //
        Matcher matcher =pattern.matcher(data);
        while (matcher.find()){
            System.out.println(matcher.group());
        }

    }
}
